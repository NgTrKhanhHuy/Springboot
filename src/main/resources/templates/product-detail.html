<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Chi tiết sản phẩm</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">


</head>
<body>
<!-- Include header fragment -->
<div th:replace="fragments/header :: header"></div>

<div class="container mt-3">
    <h2 th:text="${product.name}">Tên sản phẩm</h2>
    <div class="row">
        <div class="col-md-6">
            <img th:src="${product.imageUrl}" class="img-fluid" alt="Product Image">
        </div>
        <div class="col-md-6">
            <p><strong>Mô tả:</strong> <span th:text="${product.description}"></span></p>
            <p><strong>Giá:</strong> <span th:text="${product.price} + ' VND'"></span></p>
            <!-- Nếu có thông tin khác như Category, bạn có thể hiển thị thêm -->
        </div>
        <div class="product-actions">
            <!-- Thêm sản phẩm vào giỏ hàng -->
<!--            <form action="#" th:action="@{/cart/add/{productId}(productId=${product.id})}" method="post">-->
<!--                <button type="submit">Thêm vào giỏ hàng</button>-->
<!--            </form>-->
            <button class="btn btn-primary add-to-cart" th:data-product-id="${product.id}">Thêm vào giỏ hàng</button>

        </div>
    </div>
    <br/>
    <a th:href="@{/home}" class="btn btn-secondary">Quay lại</a>
    <a href="/cart">Giỏ hàng (<span id="cartItemCount" th:text="${cartItemCount}">0</span>)</a>

</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script src="@{/js/bootstrap.min.js}"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script th:src="@{/js/app.js}"></script>


<!--<script>-->
<!--    $(document).ready(function(){-->
<!--        $(".add-to-cart").click(function(){-->
<!--            const productId = $(this).data("product-id");-->
<!--            $.ajax({-->
<!--                url: '/cart/add/' + productId,-->
<!--                type: 'POST',-->
<!--                success: function(cartCount) {-->
<!--                    // Cập nhật số lượng sản phẩm trên header-->
<!--                    $("#cartItemCount").text(cartCount);-->
<!--                    // Hiển thị thông báo thành công (nếu muốn)-->
<!--                    alert("Đã thêm sản phẩm vào giỏ hàng!"+ cartCount);-->
<!--                },-->
<!--                error: function(jqXHR) {-->
<!--                    alert("Có lỗi xảy ra," + jqXHR.responseText);-->
<!--                }-->
<!--            });-->
<!--        });-->
<!--    });-->
<!--    $.ajaxSetup({-->
<!--        headers: {-->
<!--            'X-CSRF-TOKEN': $('meta[name="_csrf"]').attr('content')-->
<!--        }-->
<!--    });-->


<!--</script>-->
</body>
</html>
